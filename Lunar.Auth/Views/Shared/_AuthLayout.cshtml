@using System.ComponentModel
@using Microsoft.Extensions.Configuration
@inject IConfiguration Configuration
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Lunar Authentication Server</title>

    <environment include="Development">
        <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.css" />
        <link rel="stylesheet" href="~/css/site.css" />
    </environment>
    <environment exclude="Development">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
              asp-fallback-href="~/lib/bootstrap/dist/css/bootstrap.min.css"
              asp-fallback-test-class="sr-only" asp-fallback-test-property="position" asp-fallback-test-value="absolute"
              integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous" />
        <link rel="stylesheet" href="~/css/site.min.css" asp-append-version="true" />
    </environment>
    <style type="text/css">
        html,
        body {
            min-height: 100%;
        }

        body {
            display: -ms-flexbox;
            display: -webkit-box;
            display: flex;
            -ms-flex-align: center;
            -ms-flex-pack: center;
            -webkit-box-align: center;
            align-items: center;
            -webkit-box-pack: center;
            justify-content: center;
            padding-top: 40px;
            padding-bottom: 40px;
            background-color: #fff;
            background-size: cover;
        }

        .form-signin {
            width: 100%;
            max-width: 330px;
            padding: 15px;
            /*margin: 0 auto;*/
            background: rgba(255,255,255,0.8);
            border-radius: 20px;
        }

            .form-signin .checkbox {
                font-weight: 400;
            }
        /*
            .form-signin .form-control {
                position: relative;
                box-sizing: border-box;
                height: auto;
                padding: 10px;
                font-size: 16px;
            }

                .form-signin .form-control:focus {
                    z-index: 2;
                }
            */
        :root {
            --input-padding-x: .75rem;
            --input-padding-y: .75rem;
        }

        html,
        body {
            height: 100%;
        }

        html {
            position: relative;
            /*min-height: 100%;*/
        }

        .footer {
            position: absolute;
            bottom: 0px;
            right: 0px;
            background: rgba(255,255,255,0.7);
            padding: 5px 10px;
            border-top-left-radius: 3px;
        }

        body {
            display: -ms-flexbox;
            display: -webkit-box;
            display: flex;
            -ms-flex-align: center;
            -ms-flex-pack: center;
            -webkit-box-align: center;
            align-items: center;
            -webkit-box-pack: center;
            justify-content: center;
            padding-top: 40px;
            padding-bottom: 40px;
            background-color: #f5f5f5;
        }

        .form-label-group {
            position: relative;
            /*margin-bottom: 1rem;*/
            text-align: left;
        }

            .form-label-group > input,
            .form-label-group > label {
                padding: 0.75rem;
            }

            .form-label-group > label {
                position: absolute;
                top: 0;
                left: 0;
                display: block;
                width: 100%;
                margin-bottom: 0; /* Override default `<label>` margin */
                line-height: 1.5;
                color: #495057;
                border: 1px solid transparent;
                border-radius: .25rem;
                transition: all .1s ease-in-out;
            }

            .form-label-group input::-webkit-input-placeholder {
                color: transparent;
            }

            .form-label-group input:-ms-input-placeholder {
                color: transparent;
            }

            .form-label-group input::-ms-input-placeholder {
                color: transparent;
            }

            .form-label-group input::-moz-placeholder {
                color: transparent;
            }

            .form-label-group input::placeholder {
                color: transparent;
            }
            
        .form-label-group input:not(:placeholder-shown) {
            padding-top: 1.25rem;
            padding-bottom: 0.25rem;
        }
            
        .form-label-group input:not(:placeholder-shown) ~ label{
            padding-top: 0.25rem;
            padding-bottom: 0.25rem;
            font-size: 12px;
            color: #777;
        }
        input.placeholder-hidden {
            padding-top: 1.25rem;
            padding-bottom: 0.25rem;
        }
            
        label.placeholder-hidden {
            padding-top: 0.25rem;
            padding-bottom: 0.25rem;
            font-size: 12px;
            color: #777;
        }

        input {
            border-radius: 0.4rem;
        }

        .input-top {
            border-bottom-left-radius: 0px;
            border-bottom-right-radius: 0px;
            border-top-left-radius: 0.4rem;
            border-top-right-radius: 0.4rem;
        }

        .input-bottom {
            border-top-left-radius: 0px;
            border-top-right-radius: 0px;
            border-bottom-left-radius: 0.4rem;
            border-bottom-right-radius: 0.4rem;
        }

        .input-middle {
            border-bottom-left-radius: 0px;
            border-bottom-right-radius: 0px;
            border-top-left-radius: 0px;
            border-top-right-radius: 0px;
        }
    </style>
    @if (!string.IsNullOrWhiteSpace(Configuration["Login.Background"]))
    {
        <style>
            body {
                background-image: url('@Configuration["Login.Background"]');
            }
        </style>
    }
    else
    {
        <style>
            body {
                background-image: url('https://cdn.moon.ms/public/auth/background.jpg');
            }
        </style>
    }



    @RenderSection("Styles", required: false)
</head>
<body class="text-center">


    @RenderBody()

    <footer class="footer small">&copy; Joshua Moon | <a asp-controller="Developer" asp-action="Index">Developer</a> | <a asp-controller="Home" asp-action="Privacy">Privacy</a></footer>

    <environment include="Development">
        <script src="~/lib/jquery/dist/jquery.js"></script>
        <script src="~/lib/popper/popper.min.js"></script>
        <script src="~/lib/bootstrap/dist/js/bootstrap.js"></script>
        <script src="~/js/site.js" asp-append-version="true"></script>
    </environment>
    <environment exclude="Development">
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
                integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
                crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
                integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
                crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
                asp-fallback-src="~/lib/bootstrap/dist/js/bootstrap.min.js"
                asp-fallback-test="window.jQuery && window.jQuery.fn && window.jQuery.fn.modal"
                crossorigin="anonymous"
                integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl">
        </script>
        <script src="~/js/site.min.js" asp-append-version="true"></script>
    </environment>
<script>
    function placeholderPolyfill() {
        this.classList[this.value ? 'add' : 'remove']('placeholder-hidden');
        var label = $('[for="' + this.id + '"]');
        if (label) {
            if (this.value) $(label).addClass('placeholder-hidden');
            else $(label).removeClass('placeholder-hidden');
        }
    }

    $('[placeholder]').each(function() {
        $(this).on('change', placeholderPolyfill);
        $(this).on('keyup', placeholderPolyfill);
    });

</script>
    @RenderSection("Scripts", required: false)
</body>
</html>
